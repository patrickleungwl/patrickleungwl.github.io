
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../CuriousUseOfTemplates/">
      
      
        <link rel="next" href="../MakeTips/">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>Street Fighting Guide to Modern C++ - ThinkNotes</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Serif:300,300i,400,400i,700,700i%7CRoboto+Mono,+10:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"IBM Plex Serif";--md-code-font:"Roboto Mono, 10"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="yellow">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#street-fighting-guide-to-modern-c" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="ThinkNotes" class="md-header__button md-logo" aria-label="ThinkNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ThinkNotes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Street Fighting Guide to Modern C++
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="ThinkNotes" class="md-nav__button md-logo" aria-label="ThinkNotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ThinkNotes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        About ThinkNotes
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          2023
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          2023
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../2023/cryptobro/" class="md-nav__link">
        Crypto Bro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../2023/lieflat/" class="md-nav__link">
        Feeling Great
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../2023/Linux/endeavour/" class="md-nav__link">
        Endeavour OS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/bio/" class="md-nav__link">
        Bio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Archives
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Archives
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          2016
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          2016
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-04-02-lky-on-management/" class="md-nav__link">
        LKY on Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-04-03-insprirational-quotes/" class="md-nav__link">
        Inspirational Quotes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-04-07-getting-things-done/" class="md-nav__link">
        Getting Things Done
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-05-01-sg-math-primary-five-ratio/" class="md-nav__link">
        Singapore Math Primary 5 Five Ratio Question
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-05-02-sg-math-second_math_question/" class="md-nav__link">
        Singapore Math Primary 5 Second Math Question
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-09-11-fifteen-years-on/" class="md-nav__link">
        Fifteen Years On
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-09-18-get-through-hard/" class="md-nav__link">
        Get through hard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-10-08-the-management-masterclass/" class="md-nav__link">
        The Management Masterclass
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-10-09-the-spirit-of-kaizen/" class="md-nav__link">
        The Spirit of Kaizen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-12-08-riskfree-profit-strategies/" class="md-nav__link">
        Risk-free Profit Strategies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2016/2016-12-30-revisting-generic-collections/" class="md-nav__link">
        Revisiting Generic Collections
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          2017
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          2017
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2017/2017-03-21-timing_numpy/" class="md-nav__link">
        Timing NumPy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2017/2017-04-23-the-tao-of_charlie-munger/" class="md-nav__link">
        The Tao of Charlie Munger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2017/2017-06-03-fooled-by-randomness/" class="md-nav__link">
        Fooled By Randomness
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2017/2017-06-08-python_import/" class="md-nav__link">
        Imports in Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2017/2017-06-11-basic-matplotlib/" class="md-nav__link">
        Basic Matplotlib Plot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2017/2017-06-24-the-effective-engineer/" class="md-nav__link">
        The Effective Engineer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2017/2017-09-03-managing/" class="md-nav__link">
        Managing, by Harold Geneen
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          2019
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          2019
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2019/2019-02-20-how-to-use-slide-rules/" class="md-nav__link">
        How to use slide rules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2019/2019-07-20-all-about-dieting/" class="md-nav__link">
        Food smarts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          2020
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          2020
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2020/2020-01-10-colossal_failure/" class="md-nav__link">
        A Colossal Failure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2020/2020-02-09-the-hard-things/" class="md-nav__link">
        The Hard Thing About Hard Things
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2020/2020-02-11-who-gets-what/" class="md-nav__link">
        Who Gets What And Why
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2020/2020-03-01-many-ideas/" class="md-nav__link">
        Ideas From Many Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2020/2020-04-25-motivation/" class="md-nav__link">
        What's my Motivation?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../2020/2020-11-28-potpourri/" class="md-nav__link">
        Potpourri of items
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
          2022
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          2022
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../2022-12-31-colors/" class="md-nav__link">
        Design colors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../predictions/" class="md-nav__link">
        Predictions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../think/" class="md-nav__link">
        Think
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_5_4" id="__nav_4_5_4_label" tabindex="0">
          Finance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5_4">
          <span class="md-nav__icon md-icon"></span>
          Finance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Finance/Stats/" class="md-nav__link">
        Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Finance/Trading/" class="md-nav__link">
        Trading
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_5_5" id="__nav_4_5_5_label" tabindex="0">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5_5">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/KernelBypass/" class="md-nav__link">
        Kernel Bypass
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Linux/" class="md-nav__link">
        Linux notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_5_6" id="__nav_4_5_6_label" tabindex="0">
          ModernCpp
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_5_6">
          <span class="md-nav__icon md-icon"></span>
          ModernCpp
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CuriousUseOfTemplates/" class="md-nav__link">
        Curious Use of Templates
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Street Fighting Guide to Modern C++
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Street Fighting Guide to Modern C++
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#map-operator" class="md-nav__link">
    Map, operator&lt;
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unordered_map-hash" class="md-nav__link">
    Unordered_map, hash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emplace-emplace_back" class="md-nav__link">
    Emplace, Emplace_Back
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#try_emplace" class="md-nav__link">
    Try_Emplace
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#piecewise-construction" class="md-nav__link">
    Piecewise Construction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambdas" class="md-nav__link">
    Lambdas
  </a>
  
    <nav class="md-nav" aria-label="Lambdas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-of-a-functor-and-an-equivalent-lambda" class="md-nav__link">
    Example of a functor and an equivalent lambda.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decltype" class="md-nav__link">
    Decltype
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-templates" class="md-nav__link">
    Function templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-templates" class="md-nav__link">
    Class templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-traits" class="md-nav__link">
    Type traits
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MakeTips/" class="md-nav__link">
        Make Tips
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_7" >
      
      
      
        <label class="md-nav__link" for="__nav_4_5_7" id="__nav_4_5_7_label" tabindex="0">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5_7">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Notes/most/" class="md-nav__link">
        The Most Important Thing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Cheats
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Cheats
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cheats/git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cheats/nix/" class="md-nav__link">
        Nix
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#map-operator" class="md-nav__link">
    Map, operator&lt;
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unordered_map-hash" class="md-nav__link">
    Unordered_map, hash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emplace-emplace_back" class="md-nav__link">
    Emplace, Emplace_Back
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#try_emplace" class="md-nav__link">
    Try_Emplace
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#piecewise-construction" class="md-nav__link">
    Piecewise Construction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambdas" class="md-nav__link">
    Lambdas
  </a>
  
    <nav class="md-nav" aria-label="Lambdas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-of-a-functor-and-an-equivalent-lambda" class="md-nav__link">
    Example of a functor and an equivalent lambda.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decltype" class="md-nav__link">
    Decltype
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-templates" class="md-nav__link">
    Function templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-templates" class="md-nav__link">
    Class templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-traits" class="md-nav__link">
    Type traits
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="street-fighting-guide-to-modern-c">Street Fighting Guide to Modern C++</h1>
<h2 id="map-operator">Map, operator&lt;</h2>
<h2 id="unordered_map-hash">Unordered_map, hash</h2>
<h2 id="emplace-emplace_back">Emplace, Emplace_Back</h2>
<p>When adding new objects to a collection such as a vector, in pre-C++11 days, a caller might create the object first and then insert or push_back this object into the vector.  The STL container, owing to its value-semantics roots, makes a copy of the object.  This duplicate copy is essentially a wasted effort.  Why not just create the object in place, in the container itself?  That is essentially the work of emplace and emplace_back.  </p>
<p><div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code><span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;iostream&gt;</span>
<span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;vector&gt;</span>
<span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;algorithm&gt;</span>
<span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;string&gt;</span>

<span style="font-weight: bold">struct</span> <span style="font-weight: bold">HeavyObject</span>
{
    std::string name;
};

<span style="font-weight: bold">int</span> main()
{
    std::vector&lt;HeavyObject&gt; v;
    v.emplace_back(HeavyObject{<span style="font-style: italic">&quot;World&quot;</span>});

    <span style="font-weight: bold">auto</span> iter = v.cbegin();
    v.emplace(iter, HeavyObject{<span style="font-style: italic">&quot;Hello&quot;</span>});

    std::for_each(v.cbegin(), v.cend(), [](<span style="font-weight: bold">const</span> HeavyObject&amp; h) {
        std::cout &lt;&lt; h.name &lt;&lt; <span style="font-style: italic">&#39;\n&#39;</span>;
    });

    <span style="font-weight: bold">return</span> 0;
}
</code></pre></div>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code>Hello
World
</code></pre></div></p>
<h2 id="try_emplace">Try_Emplace</h2>
<p>Vectors can contain duplicate objects, whereas a map can only contain unique objects, each with a unique key.  When emplace() tries insert a duplicate object into a map, STL finds the key already existing in the map- and destroys the newly created object.  This is a waste of effort.  Try_emplace() checks for an object's existence first and only creates a new object if it doesn't exist in the map. </p>
<p><div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code><span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;iostream&gt;</span>
<span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;map&gt;</span>
<span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;string&gt;</span>

<span style="font-weight: bold">struct</span> <span style="font-weight: bold">HeavyObject</span>
{
    HeavyObject(std::string ln, std::string fn) : lname(ln), fname(fn) {
        std::cout &lt;&lt; <span style="font-style: italic">&quot;Created &quot;</span> &lt;&lt; lname &lt;&lt; <span style="font-style: italic">&quot; &quot;</span> &lt;&lt; fname &lt;&lt; <span style="font-style: italic">&#39;\n&#39;</span>;
    }
    std::string lname, fname;
};

<span style="font-weight: bold">int</span> main()
{
    std::map&lt;<span style="font-weight: bold">int</span>, HeavyObject&gt; m;
<span style="background-color: #ffffcc">    m.try_emplace(1, <span style="font-style: italic">&quot;Mouse&quot;</span>, <span style="font-style: italic">&quot;Mickey&quot;</span>);
</span><span style="background-color: #ffffcc">    m.try_emplace(1, <span style="font-style: italic">&quot;Mouse&quot;</span>, <span style="font-style: italic">&quot;Mickey&quot;</span>);
</span>
    <span style="font-weight: bold">return</span> 0;
}
</code></pre></div>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code>Created Mouse Mickey
</code></pre></div></p>
<p>Note the parameters passed into try_emplace() are <strong>perfectly forwarded</strong> to the mapped value's constructor.  Perfect forwarding means the compiler passes on lvalues as lvalues and rvalues as rvalues. </p>
<h2 id="piecewise-construction">Piecewise Construction</h2>
<p>Sometimes we have a class with its <strong>copy constructor deleted</strong>.  Why?  Because we really just want one instance of this class.  Or sometimes we want one instance for performance reasons.  We don't want to worry about unncessary memory allocations and cleanups on the heap at runtime. </p>
<p>If a class is not copy-constructible, and if we use it as a key in a map, we run into a problem.  Using emplace or insert normally, we can't create this object as the key and use it in the map, because the map cannot take a copy of this key. </p>
<p>This is where a map's piece_wise construction can be used to work around this non-copy-constructable key problem.  Example below.</p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code><span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;iostream&gt;</span>
<span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;map&gt;</span>
<span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;string&gt;</span>
<span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;utility&gt;</span>

<span style="font-weight: bold">struct</span> <span style="font-weight: bold">MyThing</span>
{
    MyThing(std::string ln, std::string fn) :
        lname(ln), fname(fn) {
    }

    MyThing(<span style="font-weight: bold">const</span> MyThing&amp;) = <span style="font-weight: bold">delete</span>;
    MyThing&amp; <span style="font-weight: bold">operator</span>= (<span style="font-weight: bold">const</span> MyThing&amp;) = <span style="font-weight: bold">delete</span>;

    <span style="font-weight: bold">bool</span> <span style="font-weight: bold">operator</span>&lt;(<span style="font-weight: bold">const</span> MyThing&amp; other) <span style="font-weight: bold">const</span> {
        <span style="font-weight: bold">return</span> (lname &lt; other.lname &amp;&amp; fname &lt; other.fname);
    }

    std::string lname, fname;
};

<span style="font-weight: bold">int</span> main()
{
    std::map&lt;MyThing, <span style="font-weight: bold">int</span>&gt; m;

<span style="font-style: italic">//  traditional c++98 style of inserting map items fails</span>
<span style="font-style: italic">//  when key object is not copy-constructable</span>
<span style="font-style: italic">//  auto item = std::pair&lt;MyThing, int&gt;(MyThing(&quot;Mouse&quot;, &quot;Mickey&quot;), 1);</span>
<span style="font-style: italic">//  m.insert(item);</span>

<span style="font-style: italic">//  this also fails because we cannot create MyThing as a key</span>
<span style="font-style: italic">//  m.emplace(MyThing(&quot;Mouse&quot;, &quot;Mickey&quot;),2);</span>

<span style="font-style: italic">//  this again fails because we cannot create MyThing as a key</span>
<span style="font-style: italic">//  m.emplace(&quot;Mouse&quot;, &quot;Mickey&quot;, 2);</span>

<span style="font-style: italic">//  C++17, this fails</span>
<span style="font-style: italic">//  m.try_emplace( &quot;Mouse&quot;, &quot;Mickey&quot;, 2);</span>

<span style="font-style: italic">//  C++17, this fails, fails to create a copy of MyThing</span>
<span style="font-style: italic">//  m.try_emplace( {&quot;Mouse&quot;, &quot;Mickey&quot;}, 2);</span>

<span style="font-style: italic">//  C++11, this works, create key and values in-place separately</span>
    m.emplace(std::piecewise_construct,
        std::forward_as_tuple(<span style="font-style: italic">&quot;Mouse&quot;</span>, <span style="font-style: italic">&quot;Mickey&quot;</span>),
        std::forward_as_tuple(2) );

    <span style="font-weight: bold">return</span> 0;
}
</code></pre></div>
<h2 id="lambdas">Lambdas</h2>
<p>Lambdas are essentially nameless "anonymous" functions declared in the code right where they are invoked.  Compared to functions or functors, this locality of declaration saves a lookup in the editor to the inner workings of the function.  On the other hand, readability becomes an issue for overly long lambdas. </p>
<p>A point of confusion is a lambda's capture clause of its definition.  A lambda can capture values or references of variables on the stack for use inside its function.  It can even capture a variable by way of a std::move operator (the original variable can no longer be used afterwards).  </p>
<p><em>Tip</em>: use lambdas for short one-to-two liner functions.</p>
<h3 id="example-of-a-functor-and-an-equivalent-lambda">Example of a functor and an equivalent lambda.</h3>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code>    <span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;iostream&gt;</span>
    <span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;vector&gt;</span>
    <span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;algorithm&gt;</span>

    <span style="font-weight: bold">struct</span> <span style="font-weight: bold">OddChecker</span>
    {
        <span style="font-weight: bold">void</span> operator()(<span style="font-weight: bold">int</span> i)
        {
            std::string tmp = (i &amp; 1) ? <span style="font-style: italic">&quot;odd&quot;</span> : <span style="font-style: italic">&quot;even&quot;</span>;
            std::cout &lt;&lt; tmp &lt;&lt; <span style="font-style: italic">&#39;\n&#39;</span>;
        }
    };

    <span style="font-weight: bold">int</span> main()
    {
        std::vector&lt;<span style="font-weight: bold">int</span>&gt; v {0,1,2,3};

        std::for_each(v.cbegin(), v.cend(), OddChecker());

        std::for_each(v.cbegin(), v.cend(), [](<span style="font-weight: bold">int</span> i) {
            std::string tmp = (i &amp; 1) ? <span style="font-style: italic">&quot;odd&quot;</span> : <span style="font-style: italic">&quot;even&quot;</span>;
            std::cout &lt;&lt; tmp &lt;&lt; <span style="font-style: italic">&#39;\n&#39;</span>;
        });

        <span style="font-weight: bold">int</span> bump = 3;
        std::string location(<span style="font-style: italic">&quot;bump&quot;</span>);
        std::for_each(v.cbegin(), v.cend(), [bump, &amp;location](<span style="font-weight: bold">int</span> i) {
            std::cout &lt;&lt; location &lt;&lt; <span style="font-style: italic">&quot; &quot;</span> &lt;&lt; i+bump &lt;&lt; <span style="font-style: italic">&#39;\n&#39;</span>;
        });
    }
</code></pre></div>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code>even
odd
even
odd
even
odd
even
odd
bump 3
bump 4
bump 5
bump 6
</code></pre></div>
<h2 id="decltype">Decltype</h2>
<p>Decltype is used mainly in template meta-programming.  Decltype is used to get type of one variable for use to declare another variable.  Example: </p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code><span style="font-weight: bold">float</span> a = 2.0;
<span style="font-weight: bold">decltype</span>(a) b = a;
</code></pre></div>
<p>This usage looks overly convoluted.  Why not use auto instead?  The only practical usage is in building template classes or functions.  Example: </p>
<div class="highlight" style="background: #ffffff"><pre style="line-height: 125%;"><span></span><code><span style="font-style: italic">#include</span> <span style="font-style: italic">&lt;iostream&gt;</span>

<span style="font-weight: bold">template</span>&lt;<span style="font-weight: bold">class</span> <span style="font-weight: bold">T</span>, <span style="font-weight: bold">class</span> <span style="font-weight: bold">U</span>&gt;
<span style="font-weight: bold">auto</span> mul(T x, U y) -&gt; <span style="font-weight: bold">decltype</span>(x*y)
{
    <span style="font-weight: bold">return</span> x*y;
}

<span style="font-weight: bold">int</span> main()
{
    <span style="font-weight: bold">double</span> a = 2.0;
    <span style="font-weight: bold">float</span> b = 3.0;

    <span style="font-weight: bold">auto</span> c = mul(a, b);
    std::cout &lt;&lt; c &lt;&lt; <span style="font-style: italic">&#39;\n&#39;</span>;
}
</code></pre></div>
<h2 id="function-templates">Function templates</h2>
<h2 id="class-templates">Class templates</h2>
<h2 id="type-traits">Type traits</h2>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>